<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>We built this blog on Jekyll and GitHub</title>
    <meta name="description" content="Occasional notes on current readings, theory, language & (gasp) culture.
">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://johnmarkagosta.com/2015/07/03/jekyll_via_github.html">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">John Mark Agosta's musings</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">We built this blog on Jekyll and GitHub</h1>
    <p class="post-meta">Jul 3, 2015</p>
  </header>

  <article class="post-content">
    <h1 id="setting-up-static-websites-hosted-by-github-with-jekyll">Setting up static websites hosted by <em>Github</em>, with <em>Jekyll</em></h1>

<p>Yes that’s a mouth-full, but it describes the shortest path to setting up a blog for the modestly code-savvy blogger.
<a href="http://http://jekyllrb.com/docs">Jekyll</a> is the simplest of all content management systems for building a website.
Github, if you are familiar with it as a code-sharing repository, incidentally also serves webpages. Think of
the <code>README.md</code> file that <em>GitHub</em> shows for each respository. So as a sideline, they’ve created a way for one to serve a directory with collections of pages residing in a repository.</p>

<p>In its own words, <em>Jekyll is a simple, blog-aware, static site generator.</em>  This means one can run it to
creates a website.  To create page content, place files in a designated folder in <em>Jekyll’s</em> directory structure.
These files can be conventional html  files, perhaps left over from a previous website, or, more
conveniently, files written with <a href="https://help.github.com/articles/markdown-basics/">markdown</a> that it styles and converts to html, with templates for custom
formats such as headers and footers.</p>

<p><em>Jekyll</em> is a command line application which includes a web server that is written in <em>Ruby</em>.  To run <em>Jekyll</em>,
<em>Ruby</em> must be installed on one’s local machine, then the <em>Jekyll</em> package (a <em>Ruby gem</em>) installed for <em>Ruby</em>.
Then to expose the website publically, push the
<em>Jekyll</em> directory structure to a <em>Github</em> account created for that purpose and it’s complete.</p>

<p>BTW, there is a <em>python</em> work-alike to <em>Jekyll</em> called <em>Hyde</em>. Be cautious about getting involved with this evil twin! As pythonic as one may be, the <em>Jekyll</em> installation is straightforward, and you’ll end up learning about <em>Ruby</em> which is a really cool language.</p>

<p>Here’s the <a href="https://help.github.com/categories/github-pages-basics/"><em>GitHub Pages</em> documentation</a>. In fact, one can create a
markdown-editable site entirely with <em>GitHub Pages</em>, but it will lack any <em>Jekyll</em>’s templating  nicenesses.  We won’t go there.</p>

<h2 id="the-steps-to-get-this-in-place">The steps to get this in place</h2>

<h3 id="set-up-jekyll-in-ruby">Set up Jekyll in Ruby</h3>

<ul>
  <li>Install <em>Ruby</em> on your machine, if it’s not already there. The current version is</li>
</ul>

<blockquote>
  <p>~$ ruby –version<br />
ruby 2.2.2p95 […]</p>
</blockquote>

<p>You’ll also need <em>Ruby</em>’s package manager, <em>Bundler</em>.  <em>Ruby</em> comes with a built-in package manager called <code>gem</code> that manages <em>Ruby</em> packages that are called, naturally,  <em>gems</em>.  <em>Bundler</em>  is used to run <em>Ruby</em> in an environment that guarantees that the needed packages are loaded and up-to-date.</p>

<ul>
  <li>
    <p>Create the <code>Gemsfile</code> that <em>Bundler</em> uses to set the environment; <a href="http://jekyllrb.com/docs/github-pages/">see the GitHub suggestion</a>.</p>
  </li>
  <li>
    <p>Run</p>
  </li>
</ul>

<blockquote>
  <p>$ bundle install</p>
</blockquote>

<p>to implement that gems file in the directory where the Gemsfile resides, typically just below your repository directory. 
The trick is that this directory must be both a git repository and a <em>Jekyll</em> site.  I did this by first creating the <em>Jekyll</em> site, then creating the repository and copying the site’s contents into the repository.  <em>Jekyll</em> will complain if you create a new site within an existing directory.</p>

<p>So, first the <em>Jekyll</em> setup:</p>

<ul>
  <li>Create a Jekyll site, in a temporary dir.</li>
</ul>

<blockquote>
  <p>$ bundle exec jekyll new my_tmp_site</p>
</blockquote>

<ul>
  <li>You can try it out the site by building it, then running the local server to inspect it’s pages</li>
</ul>

<blockquote>
  <p>$ bundle exec jekyll build my_tmp_site</p>
</blockquote>

<p>Connect to the directory and start the server</p>

<blockquote>
  <p>$ cd my_tmp_site; jekyll serve</p>
</blockquote>

<p>It should respond with a message that you can browse the site, at <code>http://localhost:4000</code></p>

<ul>
  <li>OK, cntl-C out of it (killing the server) and go to <em>GitHub</em> to  create the blog’s repository.</li>
</ul>

<h3 id="create-a-user-page-repository">Create a user page repository</h3>

<ul>
  <li>Create an account on <a href="https://pages.github.com">github.com</a> if you don’t already have one. Otherwise create a new repository <strong>whose name must be “your-github-account”.github.io</strong></li>
</ul>

<p>You’ll create a <em>user page</em> repository assuming the repository you are creating is solely for hosting your blog, not as part of a documentation site for a code project. You can choose the README option, and optionally choose a license file.  (Or go to e.g. <a href="http://creativecommons.org">creativecommons</a> and choose an appropriate license.)  <em>Don’t go into settings and choose the auto-generated option!</em>  That’s for a GitHub website that doesn’t use <em>Jekyll</em>.  When <em>GitHub</em> sees the <em>Jekyll</em> directory structure in your master branch, <em>GitHub</em> knows to run your contents through the <em>Jekyll</em> templating engine and serve your site! 
To be exact, <em>GitHub</em> knows this because the repository name is the same as your account name, eg.   <code>jmagosta.github.io/jmagosta.github.io</code> to generate a  website from the Jekyll site at http://jmagosta.github.io.</p>

<p>Content from the master branch of your repository will be used to build and publish your <em>GitHub</em> site.</p>

<ul>
  <li>To combine the repository and site directories, clone the repository</li>
</ul>

<blockquote>
  <p>$ git clone http://github.com/jmagosta/jmagosta.git</p>
</blockquote>

<p>Then <code>mv</code> the entire contents of <code>my_tmp_site</code> to the root of the repository. (Note that the <code>Gemfile</code> stays at the level below, where you’ve been running <em>Bundle</em> commands. )</p>

<p>Then all that’s needed is to commit and push the site contents to the new remote repository:</p>

<blockquote>
  <p>$ git add .<br />
$ git commit -m”new Jekyll build”<br />
$ git push origin master</p>
</blockquote>

<h2 id="the-edit-run-deploy-cycle">The edit, run, deploy cycle</h2>

<p>Since <em>Jekyll</em> serves locally, and also identically on the <em>GItHub</em> server, you can see you changes locally simply by keeping the local server running as you edit markdown files in your repository.  Edits will appear as you refresh your browser pointing to <code>localhost:4000</code></p>

<p>Then when you want to deploy your changes, just push the repository commits to <em>GitHub</em>, so <em>GitHub</em> will see them.  That’s all need be done to make the changes go ‘‘live.”</p>


  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">John Mark Agosta's musings</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>John Mark Agosta's musings</li>
          <li><a href="mailto:musings at agosta dot org">musings at agosta dot org</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/jmagosta">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">jmagosta</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/quantifiedcar">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">quantifiedcar</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">Occasional notes on current readings, theory, language & (gasp) culture.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
